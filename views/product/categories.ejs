<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>카테고리</title>
    <%-include("../link.ejs")%>
    <link rel="stylesheet" href="/static/css/product/categories.css" />
    <!-- 폰트어썸 -->
    <script
      src="https://kit.fontawesome.com/a766c546f2.js"
      crossorigin="anonymous"
    ></script>
    <!-- 페이지네이션 기능 연결 시작 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.css"
    />
    <!-- 페이지네이션 기능 연결 끝 -->
  </head>
  <body>
    <%-include("../main/navbar.ejs")%>
    <div class="all-body">
      <!-- <div class="search_nav">
        <a class="home" href="/">홈</a>
        <span class="navi_linemap">
          <select name="navi_0" class="navi-select">
            <option class="filter-item active" value="all" selected="">
              &nbsp;전체상품&nbsp;
            </option>
            <option class="filter-item" value="lifeelec">
              &nbsp;생활/가전&nbsp;
            </option>
            <option class="filter-item" value="elec">
              &nbsp;전자제품&nbsp;
            </option>
            <option class="filter-item" value="">
              &nbsp;가구/인테리어&nbsp;
            </option>
            <option class="filter-item" value="">
              &nbsp;도서/음반/티켓&nbsp;
            </option>
            <option class="filter-item" value="">&nbsp;식품/잡화&nbsp;</option>
            <option class="filter-item" value="">&nbsp;반려동물&nbsp;</option>
            <option class="filter-item" value="">
              &nbsp;스포츠/레저&nbsp;
            </option>
            <option class="filter-item" value="">&nbsp;자동차용품&nbsp;</option>
            <option class="filter-item" value="">&nbsp;생활용품&nbsp;</option>
          </select>
        </span>
        <span class="navi_linemap">
          <select name="navi_1" class="navi-select">
            <option value="" selected="">&nbsp;선택&nbsp;</option>
            <option value="">&nbsp;노트북&nbsp;</option>
            <option value="">&nbsp;모니터&nbsp;</option>
            <option value="">&nbsp;저장장치&nbsp;</option>
            <option value="">&nbsp;스마트폰&nbsp;</option>
          </select>
        </span>
      </div> -->

      <!-- 상품목록카드 부분 폐기 예정 시작 -->
      <!-- <div class="pagenation-container">
        <div class="row row-cols-1 row-cols-md-3 g-4">
        <div class="col">
          <div class="card h-100">
            <img src="..." class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title">Card title</h5>
              <p class="card-text">
                This is a longer card with supporting text below as a natural
                lead-in to additional content. This content is a little bit
                longer.
              </p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100">
            <img src="..." class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title">Card title</h5>
              <p class="card-text">This is a short card.</p>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card h-100">
            <img src="..." class="card-img-top" alt="..." />
            <div class="card-body">
              <h5 class="card-title">Card title</h5>
              <p class="card-text">
                This is a longer card with supporting text below as a natural
                lead-in to additional content.
              </p>
            </div>
          </div>
        </div>
      </div>
      <br /> -->
      <!-- 상품목록카드 부분 폐기 예정 끝 -->

      <!-- 상품목록카드 부분 2버전 틀만있는것 비상용 시작 -->
      <!-- <div class="hero-header"></div>

    <div class="products">
        <h3>새로운 중고물품</h3>

        <div class="product-list">
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225">
                <div class="product-name">
                    아이폰13
                </div>
                <div class="product-price">
                    1,149,000
                </div>
            </a>

            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>

            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>

            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>

            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>

            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>

            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>
            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>
            </a>
            
            <a href="#" class="product">
                <img src="https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/1f57/5ffe8f988153be8286e659ff5360a1c11826b2124b81a45c98f6b4b16593.jpg" width="225" height="225px">
                <div class="product-name">
                  아이폰13
              </div>
              <div class="product-price">
                  1,149,000
              </div>  
            </a>
            <div class="clearfix"></div>
        </div> -->
      <!-- 상품목록카드 부분 2버전 끝 -->

      <!-- 페이지네이션 기능 시작 -->
      <div class="hero-header"></div>
      <div class="products">
        <h3>새로운 중고물품</h3>
        <br />

        <div class="onestnavsort">
          <div class="twostnavsort">
            <div class="sortnav"><a href="">랭킹순</a></div>
            <div class="sortnav"><a href="">누적판매순</a></div>
            <div class="sortnav"><a href="">후기많은순</a></div>
            <div class="sortnav"><a href="">낮은가격순</a></div>
            <div class="sortnav"><a href="">높은가격순</a></div>
            <div class="sortnav"><a href="">최신등록순</a></div>
          </div>
          <div class="threestnavsort">
            <select>
              <option>40개씩 보기</option>
              <option>100개씩 보기</option>
            </select>
          </div>
        </div>
        <br />
        <!-- 받아온 데이터 -->
        <a href="#" class="products"></a>
        <div class="pagenation-container">
          <div
            class="row row-cols-3 row-cols-md-3 g-4"
            id="data-container"
          ></div>
        </div>
        <br />
        <div id="pagination"></div>
        <br />
        <br />
      </div>
    </div>
    <!-- 페이지네이션 기능 끝 -->

    <%-include("../main/footer.ejs")%>

    <!-- <script src="/static/js/product/categories.js"></script> -->
    <script>
      // 상품목록 리스트 (페이지네이션) 시작
      $(function () {
        let container = $("#pagination");
        const category = "<%=category%>";
        axios({
          url: `/api/categories/${category}`,
          method: "post",
          data: { category: category },
        }).then((result) => {
          console.log(result.data);
          const dataSource = result.data.map((el) => {
            return {
              img: `<img src='${el.img}' class='card-img-top' alt='...' />`,
              name: `<h5 class='card-title'>${el.title}</h5>`,
              id: `<p class='card-text'>${el.user_id}</p>`,
              address: `<p class='card-text'>${el.position}</p>`,
              price: `<p class='card-text'>${el.price}원</p>`,
              categories: `<p class='card-text elec'>${el.category_id}</p>`,
            };
          });
          container.pagination({
            dataSource: dataSource,
            // [
            //   {
            //     img: "<img src='https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/2022/02/17/18/6/c0373995-8b2e-4cc6-a6f8-9a3abb2d6f56.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>갤럭시s21 너무 많아요</h5>",
            //     id: "<p class='card-text'>헤헤헤</p>",
            //     address: "<p class='card-text'>신당동</p>",
            //     price: "<p class='card-text'>123,000원</p>",
            //     categories: "<p class='card-text elec'>전자제품</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail9.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/3830582162733443-96014079-fd13-4849-82df-fd2e457f0e4b.png' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>갤럭시폴드3 급처!</h5>",
            //     id: "<p class='card-text'>호로로</p>",
            //     address: "<p class='card-text'>신두동</p>",
            //     price: "<p class='card-text'>13,000원</p>",
            //     categories: "<p class='card-text elec'>전자제품</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail9.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/1042682481482349-572328bc-69d2-4b30-a8e0-23bb599f936a.png' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>갤럭시s21 본체만!!</h5>",
            //     id: "<p class='card-text'>짜르르</p>",
            //     address: "<p class='card-text'>신데동</p>",
            //     price: "<p class='card-text'>13,000원</p>",
            //     categories: "<p class='card-text elec'>전자제품</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail8.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/2022/02/17/18/3/f8c39355-31f0-4cc1-b462-d63b2224b7c1.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>갤럭시노트20 지겨워요</h5>",
            //     id: "<p class='card-text'>찌르르</p>",
            //     address: "<p class='card-text'>신더동</p>",
            //     price: "<p class='card-text'>13,000원</p>",
            //     categories: "<p class='card-text elec'>전자제품</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail9.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/3830243979425524-9c6be638-e4f8-4877-86ee-4d691675f5e1.png' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>갤럭시z플립4 새것이에요</h5>",
            //     id: "<p class='card-text'>르르르</p>",
            //     address: "<p class='card-text'>신주동</p>",
            //     price: "<p class='card-text'>13,000원</p>",
            //     categories: "<p class='card-text elec'>전자제품</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail9.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/2137015777995977-96cb80bc-af2a-430c-b33d-a718165bf5da.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>아이폰13프로에요</h5>",
            //     id: "<p class='card-text'>라라라</p>",
            //     address: "<p class='card-text'>신고동</p>",
            //     price: "<p class='card-text'>13,000원</p>",
            //     categories: "<p class='card-text elec'>전자제품</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail7.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/10147305712174315-161d4e27-bba7-405f-b4ec-6827e8cb7988.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>고오급진 냉장고</h5>",
            //     id: "<p class='card-text'>차르르</p>",
            //     address: "<p class='card-text'>연세동</p>",
            //     price: "<p class='card-text'>133,000원</p>",
            //     categories: "<p class='card-text lifeelec'>생활/가전</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail6.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/536185878844360-fa6c549e-05a4-4755-ac37-97c56b8a8e9c.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>와인 냉장고</h5>",
            //     id: "<p class='card-text'>서서서</p>",
            //     address: "<p class='card-text'>남남동</p>",
            //     price: "<p class='card-text'>14,000원</p>",
            //     categories: "<p class='card-text lifeelec'>생활/가전</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail9.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/2137015777995977-96cb80bc-af2a-430c-b33d-a718165bf5da.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>아이폰13프로일까요</h5>",
            //     id: "<p class='card-text'>베베베</p>",
            //     address: "<p class='card-text'>도도동</p>",
            //     price: "<p class='card-text'>93,000원</p>",
            //     categories: "<p class='card-text elec'>생활/가전</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail6.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/d1da/32e062b6c91279cfaf61dbe0796b2f90c5f34fcbbcdf4a535484c480d34c.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>전기자전거 안써요</h5>",
            //     id: "<p class='card-text'>제제노</p>",
            //     address: "<p class='card-text'>수도동</p>",
            //     price: "<p class='card-text'>22,000원</p>",
            //     categories: "<p class='card-text lifeelec'>생활/가전</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail6.coupangcdn.com/thumbnails/remote/230x230ex/image/vendor_inventory/6558/c76e08f53e702ff171af5e84251bfb5f9c36daccae7ff27f0d55a8c455eb.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>usb 8tb</h5>",
            //     id: "<p class='card-text'>사더오</p>",
            //     address: "<p class='card-text'>대대동</p>",
            //     price: "<p class='card-text'>8,000원</p>",
            //     categories: "<p class='card-text lifeelec'>생활/가전</p>",
            //   },
            //   {
            //     img: "<img src='https://thumbnail10.coupangcdn.com/thumbnails/remote/230x230ex/image/retail/images/24628599404929-7fd7bec3-6738-44fb-94ae-0d2ba654c9b9.jpg' class='card-img-top' alt='...' />",
            //     name: "<h5 class='card-title'>청소기</h5>",
            //     id: "<p class='card-text'>추도도</p>",
            //     address: "<p class='card-text'>세세동</p>",
            //     price: "<p class='card-text'>11,000원</p>",
            //     categories: "<p class='card-text lifeelec'>생활/가전</p>",
            //   },
            //   {
            //     img: "<img src='' class='card-img-top' alt='...' />",
            //     user_id: "<h5 class='card-title'>갤럭시s21 너무 많아요</h5>",
            //     category_id: "<p class='card-text'>헤헤헤</p>",
            //     title: "<p class='card-text'>신당동</p>",
            //     position: "<p class='card-text'>123,000원</p>",
            //     content: "<p class='card-text elec'>전자제품</p>",
            //     price: "",
            //   },
            // ],

            pageSize: 6,
            callback: function (data, pagination) {
              var dataHtml = "";

              $.each(data, function (index, item) {
                dataHtml +=
                  "<div class='col'>" +
                  "<div class='card h-100'>" +
                  item.img +
                  "<div class='card-body'>" +
                  item.id +
                  item.name +
                  item.address +
                  item.price +
                  item.categories +
                  "<br>" +
                  "</div>" +
                  "</div>" +
                  "</div>";
              });
              dataHtml += "";
              $("#data-container").html(dataHtml);
            },
          });
        });
      });
    </script>
  </body>
</html>
